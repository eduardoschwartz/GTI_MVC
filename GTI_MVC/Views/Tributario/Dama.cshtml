@model GTI_Mvc.ViewModels.CertidaoViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Emissão de DAM";
}

<form asp-controller="Tributario" enctype="multipart/form-data" method="post" onsubmit="return ValidateForm()" asp-action="Dama" class="mt-3">
    <div class="form-group"><label style="color:brown;font-size:14px;">Digite a data de pagamento (máximo de 30 dias):</label></div>
    <div class="form-group row align-items-lg-baseline" style="margin-left:1px">
        <label asp-for="DataVencimento"></label>
        &nbsp;&nbsp;<input asp-for="DataVencimento" id="vencto" class="form-control" style="max-width:150px;max-height:25px;overflow:auto;" onKeyPress="return formata(this, '§§/§§/§§§§', event)" onchange="ClearError()">
        &nbsp;&nbsp;&nbsp;<button type="submit" class="green_button" formmethod="post"> Consultar</button>
    </div>

</form>

<div class="form-group row" style="margin-left:-10px">
    &nbsp;&nbsp;<label class="text-danger" id="errorLabel">@ViewBag.Result</label>
</div>


@Html.ActionLink("Retornar ao menu principal", "Index", "Home")

@section scripts{

    <script type="text/javascript">
        function ValidateForm() {
            var _data = document.getElementById('vencto').value;

            if (_data.length < 10) {
                document.getElementById('errorLabel').innerHTML = "Data de vencimento inválida";
                return false;
            }

            return true;
        }

        function ClearError() {
            document.getElementById('errorLabel').innerHTML = "";
        }

    </script>}
